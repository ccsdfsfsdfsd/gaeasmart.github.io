import{t as W,f as $,a as M,s as z,b as O,c as U,d as N,e as F,E as G,v as H,n as V,h as Z,i as Y,j as q,k as J}from"./index.7f25e59a.js";import{a9 as L,Y as K,r as v,w as Q,G as S,ak as X,I as ee,ab as _,ac as C,u as te,bk as se,bj as ae,d as le,av as s,ai as P,ao as oe,b as d,aj as ne,bd as re,at as A,aG as ie,ae as D,bm as de}from"./entry.b90bfaf6.js";import{_ as ce}from"./floor7.9081a10f.js";const ue={id:"floor5-line-chart",class:"w-full h-full"},fe=L({__name:"Line",props:{data:{default:[]}},setup(I){const g=I,{$eChart:n}=te(),l=K(),r=v(null);Q(()=>g.data,async()=>{c()},{deep:!0});const c=async()=>{var y,B;l.value&&l.value.dispose();const u=document.getElementById("floor5-line-chart");if(!u||u.clientWidth===0||u.clientHeight===0)return;l.value=n.init(u);const p=((y=g.data)==null?void 0:y.length)||0,a=[],k=new Date;for(let f=p-1;f>=0;f--){const m=new Date(k);m.setUTCDate(k.getUTCDate()-f),a.push(m.toLocaleDateString("en-US",{timeZone:"UTC"}))}const T={tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,.05)",borderWidth:"1",borderColor:"rgba(255,255,255,0.25)",extraCssText:"backdrop-filter: blur(5px);",textStyle:{fontSize:18,color:"#ffffff"},formatter:function(f){var m='<div class="my-tooltip">';return f.forEach(b=>{b.seriesName!=="maxdata"&&(m+=`<div><span class="name large">${b.name}</span>:<span class="value">${b.value} </span></div>`)}),m+="</div>",m}},grid:{top:"8%",left:"8%",right:0,bottom:"15%"},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2B2B2B"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2B2B2B"}},data:a},yAxis:{type:"value",axisLabel:{textStyle:{color:"#2B2B2B"}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#2B2B2B"}}},dataZoom:[{type:"inside",xAxisIndex:0,start:Math.max(0,100-100/Math.max(1,((B=g.data)==null?void 0:B.length)||1)*10),end:100,zoomOnMouseWheel:!0,moveOnMouseMove:!0}],series:[{data:g.data,type:"line",smooth:!0,lineStyle:{color:"#7030A0",width:5},symbol:"circle",symbolSize:0,itemStyle:{color:"#7030A0",borderColor:"#7030A0",width:2}}]};l.value.setOption(T,!0)},h=()=>{l.value&&(r.value&&clearTimeout(r.value),r.value=setTimeout(()=>{l.value.resize()},300))};return S(async()=>{await X(),setTimeout(c,500),window.addEventListener("resize",h,{passive:!0})}),ee(()=>{l.value&&(window.removeEventListener("resize",h),l.value.dispose()),r.value&&clearTimeout(r.value)}),(u,p)=>(_(),C("div",ue))}}),me={class:"w-full h-screen flex items-center"},ve={class:"w-full h-fit grid sm:grid-cols-1 lg:grid-cols-[550px_1fr] items-center gap-5 relative"},xe={class:"w-full h-full overflow-hidden flex flex-col justify-between border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-8 relative attribute"},ge=s("div",{class:"w-5 h-5 absolute top-3 right-5 attribute_box"},null,-1),pe=s("p",{class:"text-[1.75rem] lg:text-[1.75rem] md:text-[2.5rem] sm:text-[1vw] font-bold"},"My Device",-1),be=s("div",{class:"w-[330px] mx-auto"},[s("img",{src:ce,alt:"",class:"w-full h-full object-cover"})],-1),he=s("span",{class:"text-[1.125rem] font-bold text-[#EBEBEB] uppercase"},"Stake Device",-1),we={class:"w-full h-full flex flex-col justify-between space-y-5 overflow-hidden"},ye={class:"flex-1 flex flex-col justify-between border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-6 relative attribute cursor-pointer"},_e=s("div",{class:"w-5 h-5 absolute top-3 right-5 attribute_box"},null,-1),Ce=s("div",{class:"flex items-center justify-between"},[s("p",{class:"text-[1.75rem] lg:text-[1.75rem] md:text-[2.5rem] font-bold"},"Device Overview")],-1),ke={class:"w-full grid grid-cols-2 xl:grid-cols-4 lg:grid-cols-2 gap-1 md:grid-cols-4 sm:grid-cols-2"},Be=["title"],Te={class:"lg:text-[1rem] 2xl:text-[1rem] xl:text-[0.85rem] text-[1rem] md:text-[1.4rem] sm:text-[0.9rem] font-[400] u-line-1"},Ee=s("span",{class:"underline underline-offset-6 cursor-pointer text-[#ebebebaf] hover:text-[#EBEBEB] buy_node md:text-[1.5rem] lg:text-[20px]"}," Order Now ",-1),Ie=[Ee],Ne={class:"w-full flex-1 flex flex-col border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-4"},Pe={class:"flex items-center flex-wrap justify-between"},Ae=s("p",{class:"text-[1.75rem] lg:text-[1.75rem] md:text-[2.5rem] font-bold"},"$Gaea Produce",-1),De={class:"w-[40%] bg-[#0F0F0F] rounded-md grid grid-cols-2 p-1 text-[#ebebeb71]"},Le={class:"w-full min-h-[250px] flex-1 items-end"},We=L({__name:"Index",emits:["update:scrollTo"],setup(I,{emit:g}){const n=se(),l=ae(),r=v(!1),c=v(0),h=v([]);v(null);const u=v(null),p=v(!1),a=v([{name:"My possessions",value:[0,0,0,0],sum:0},{name:"Running",value:[0,0,0,0],sum:0},{name:"Today's output",value:[0,0,0,0],sum:0},{name:"Total output",value:[0,0,0,0],sum:0}]),k=le(()=>{var t;const e=((t=n.getPledgeableNftTokenIds)==null?void 0:t[0])||[];return!(l.getAccountsWalletAddress&&e.length>0)}),w=async e=>{if(l.getAccountsWalletAddress)try{p.value=!0,c.value=e,h.value=await M(c.value)||[0,0,0,0]}catch{}finally{p.value=!1}},T=async()=>{try{r.value=!0;let e=null,t=n.getPledgeableNftTokenIds[0];if(await z(n.getAccountWalletItem),t.length===1?e=await O(t[0]):e=await U(t),e){a.value[1].sum<=0&&(u.value=setInterval(b,3e5));const o=await N();a.value[1].value=o||[0,0,0,0],a.value[1].sum=o.reduce((i,E)=>i+E,0),setTimeout(async()=>{await y();const i=[...n.getPledgeableNftTokenIds.flat()];de.success(`Successfully staked ${t.length} tokens, ${i.length} remaining`)},200)}}catch{}finally{r.value=!1}},y=async()=>{const e=await F();n.setPledgeableNftTokenIds(e)},B=async()=>{var o;const e=await V(),t=((o=e==null?void 0:e.data)==null?void 0:o.config[0])||Z();n.setWeb3ConfigItem(t)},f=async()=>{const[e,t]=await Promise.all([Y(),q()]);a.value[2].sum=t,a.value[3].sum=e},m=async()=>{const[e,t]=await Promise.all([J(),N()]);a.value[0].value=e||[0,0,0,0],a.value[0].sum=e.reduce((o,i)=>o+i,0),a.value[1].value=t||[0,0,0,0],a.value[1].sum=t.reduce((o,i)=>o+i,0),a.value[1].sum>0&&(u.value=setInterval(b,3e5))},b=()=>{f(),w(c.value)},j=async()=>{l.getAccountsWalletAddress&&(n.getWeb3ConfigItem.chain_id||await B(),await Promise.all([y(),f(),m(),w(7)]))};return S(()=>{j()}),(e,t)=>{const o=G,i=fe,E=H;return _(),C("div",me,[s("div",ve,[s("div",xe,[ge,pe,be,s("div",null,[P(o,{round:"",color:"none",disabled:d(k),loading:d(r),onClick:t[0]||(t[0]=x=>("throttle"in e?e.throttle:d(W))(()=>{T()})),class:"w-full min-w-[260px] hover:scale-[1.05] duration-700 my-2 mr-3 buy-node",style:{height:"40px",border:"1px solid #ebebeb86"}},{default:oe(()=>[he]),_:1},8,["disabled","loading"])])]),s("div",we,[s("div",ye,[_e,Ce,s("div",ke,[(_(!0),C(ne,null,re(d(a),(x,R)=>(_(),C("div",{class:"flex flex-col items-center",key:R},[s("span",{class:"lg:text-[2rem] xl:text-[2rem] 2xl:text-[2.5rem] text-[2.5rem] md:text-[2.5rem] sm:text-[2rem] font-bold",title:x.sum},A(("formatNumber"in e?e.formatNumber:d($))(x.sum)||0),9,Be),s("span",Te,A(x.name),1)]))),128))]),s("div",{class:"w-full flex justify-end",onClick:t[1]||(t[1]=x=>g("update:scrollTo","orderNow"))},Ie)]),ie((_(),C("div",Ne,[s("div",Pe,[Ae,s("div",De,[s("div",{class:D(["py-1 flex items-center justify-center cursor-pointer",d(c)===7?"bg-[#272727] rounded-md text-[#EBEBEB] font-[500]":""]),onClick:t[2]||(t[2]=x=>w(7))},"7D",2),s("div",{class:D(["py-1 flex items-center justify-center cursor-pointer",d(c)===30?"bg-[#272727] rounded-md text-[#EBEBEB] font-[500]":""]),onClick:t[3]||(t[3]=x=>w(30))},"30D",2)])]),s("div",Le,[P(i,{data:d(h)},null,8,["data"])])])),[[E,d(p)]])])])])}}});export{We as default};
