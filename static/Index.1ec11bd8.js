import{t as j,a as U,s as M,b as F,c as O,d as D,e as H,E as V,v as q,n as G,f as K,h as Z,i as J}from"./index.82baf22e.js";import{i as P,r as i,ae as w,af as y,az as s,ah as T,ax as A,bv as Q,a1 as X,w as Y,k as L,an as ee,l as te,u as se,bA as ae,bq as le,d as oe,al as N,as as ne,b as u,am as re,bg as ie,aK as ce,bs as de}from"./entry.aad3c1c2.js";import{h as ue}from"./Header.vuevuetypescriptsetuptruelang.7bef37b4.js";const fe={class:"relative"},me={class:"text-[#6E6E6E] absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 scale-[0.5] text-sm z-50"},ve=P({__name:"Refresh",emits:["toRefresh"],setup(k,{emit:g}){const f=i(!1),a=i(0),o=i(!1),m=()=>{if(o.value)return;f.value=!0,g("toRefresh"),o.value=!0,a.value=60;const n=setInterval(()=>{a.value--,a.value<=0&&(clearInterval(n),o.value=!1,f.value=!1)},1e3);setTimeout(()=>{f.value=!1},500)};return(n,c)=>(w(),y("div",fe,[s("span",{class:T(["text-lg",["iconfont","icon-shuaxin","text-[#6E6E6E]","cursor-pointer","rotate-icon",{rotate:f.value}]]),onClick:m},null,2),s("span",me,A(a.value>0?a.value:""),1)]))}});const pe=Q(ve,[["__scopeId","data-v-0add8083"]]),xe={id:"floor5-line-chart",class:"w-full h-full"},ge=P({__name:"Line",props:{data:{default:[]}},setup(k){const g=k,{$eChart:f}=se(),a=X(),o=i(null);Y(()=>g.data,async()=>{m()},{deep:!0});const m=async()=>{var B;a.value&&a.value.dispose();const c=document.getElementById("floor5-line-chart");if(!c||c.clientWidth===0||c.clientHeight===0)return;a.value=f.init(c);const C=((B=g.data)==null?void 0:B.length)||0,b=[],l=new Date;for(let v=C-1;v>=0;v--){const p=new Date(l);p.setUTCDate(l.getUTCDate()-v),b.push(p.toLocaleDateString("en-US",{timeZone:"UTC"}))}const _={tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,.05)",borderWidth:"1",borderColor:"rgba(255,255,255,0.25)",extraCssText:"backdrop-filter: blur(5px);",textStyle:{fontSize:18,color:"#ffffff"},formatter:function(v){var p='<div class="my-tooltip">';return v.forEach(h=>{h.seriesName!=="maxdata"&&(p+=`<div><span class="name large">${h.name}</span>:<span class="value">${h.value} </span></div>`)}),p+="</div>",p}},grid:{top:"8%",left:"8%",right:0,bottom:"15%"},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2B2B2B"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2B2B2B"}},data:b},yAxis:{type:"value",axisLabel:{textStyle:{color:"#2B2B2B"}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#2B2B2B"}}},series:[{data:g.data,type:"line",smooth:!0,lineStyle:{color:"#7030A0",width:5},symbol:"circle",symbolSize:0,itemStyle:{color:"#7030A0",borderColor:"#7030A0",width:2}}]};a.value.setOption(_,!0)},n=()=>{a.value&&(o.value&&clearTimeout(o.value),o.value=setTimeout(()=>{a.value.resize()},300))};return L(async()=>{await ee(),setTimeout(m,500),window.addEventListener("resize",n,{passive:!0})}),te(()=>{a.value&&(window.removeEventListener("resize",n),a.value.dispose()),o.value&&clearTimeout(o.value)}),(c,C)=>(w(),y("div",xe))}}),be=()=>({}),_e=""+globalThis.__publicAssetsURL("images/smartDevice/floor7.png?v=1"),he={class:"w-full h-fit grid sm:grid-cols-1 lg:grid-cols-[550px_1fr] items-center gap-5 relative"},we={class:"w-full h-full overflow-hidden flex flex-col justify-between border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-8 relative attribute"},ye=s("div",{class:"w-5 h-5 absolute top-3 right-5 attribute_box"},null,-1),Ce=s("p",{class:"text-[1.75rem] lg:text-[1.75rem] md:text-[2.5rem] sm:text-[1vw] font-bold"},"My Device",-1),ke=s("div",{class:"w-[330px] mx-auto"},[s("img",{src:_e,alt:"",class:"w-full h-full object-cover"})],-1),Be=s("span",{class:"text-[1.125rem] font-bold text-[#EBEBEB] uppercase"},"Stake Device",-1),Te={class:"w-full h-full flex flex-col justify-between space-y-5 overflow-hidden"},Ee={class:"flex-1 flex flex-col justify-between border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-6 relative attribute cursor-pointer"},Ie={class:"w-5 h-5 absolute top-3 right-5 attribute_box"},Ne={class:"w-full grid grid-cols-2 xl:grid-cols-4 lg:grid-cols-2 gap-1 md:grid-cols-4 sm:grid-cols-2"},Ae=["title"],Pe={class:"lg:text-[1rem] 2xl:text-[1rem] xl:text-[0.85rem] text-[1rem] md:text-[1.4rem] sm:text-[0.9rem] font-[400] u-line-1"},Re=s("span",{class:"underline underline-offset-6 cursor-pointer text-[#ebebebaf] hover:text-[#EBEBEB] buy_node md:text-[1.5rem] lg:text-[20px]"}," Order Now ",-1),De=[Re],Le={class:"w-full flex-1 flex flex-col border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-4"},Se={class:"flex items-center flex-wrap justify-between"},$e=s("p",{class:"text-[1.75rem] lg:text-[1.75rem] md:text-[2.5rem] font-bold"},"$Gaea Produce",-1),We={class:"w-[40%] bg-[#0F0F0F] rounded-md grid grid-cols-2 p-1 text-[#ebebeb71]"},ze={class:"w-full min-h-[250px] flex-1 items-end"},Fe=P({__name:"Index",props:{isMobile:{default:1}},emits:["update:scrollTo"],setup(k,{emit:g}){const f=k,a=ae(),o=le(),m=i(!1),n=i(0),c=i([]);i(null);const C=i(null),b=i(!1),l=i([{name:"My possessions",value:[0,0,0,0],sum:0},{name:"Running",value:[0,0,0,0],sum:0},{name:"Today's output",value:[0,0,0,0],sum:0},{name:"Total output",value:[0,0,0,0],sum:0}]),R=oe(()=>{var e;const t=((e=a.getPledgeableNftTokenIds)==null?void 0:e[0])||[];return!(o.getAccountsWalletAddress&&t.length>0)}),_=async t=>{if(o.getAccountsWalletAddress)try{b.value=!0,n.value=t,c.value=await U(n.value)||[0,0,0,0]}catch{}finally{b.value=!1}},B=async()=>{try{m.value=!0;let t=null,e=a.getPledgeableNftTokenIds[0];if(await M(a.getAccountWalletItem),e.length===1?t=await F(e[0]):t=await O(e),t){l.value[1].sum<=0&&(C.value=setInterval(E,3e5));const r=await D();l.value[1].value=r||[0,0,0,0],l.value[1].sum=r.reduce((d,I)=>d+I,0),setTimeout(async()=>{await v();const d=[...a.getPledgeableNftTokenIds.flat()];de.success(`Successfully staked ${e.length} tokens, ${d.length} remaining`)},200)}}catch{}finally{m.value=!1}},v=async()=>{const t=await H();a.setPledgeableNftTokenIds(t)},p=async()=>{var r;const t=await G(),e=((r=t==null?void 0:t.data)==null?void 0:r.config[0])||be();a.setWeb3ConfigItem(e)},h=async()=>{const[t,e]=await Promise.all([K(),Z()]);l.value[2].sum=e,l.value[3].sum=t},S=async()=>{const[t,e]=await Promise.all([J(),D()]);l.value[0].value=t||[0,0,0,0],l.value[0].sum=t.reduce((r,d)=>r+d,0),l.value[0].sum>0&&o.setIsThereNFAvailable(!0),l.value[1].value=e||[0,0,0,0],l.value[1].sum=e.reduce((r,d)=>r+d,0),l.value[1].sum>0&&(C.value=setInterval(E,3e5))},E=()=>{h(),_(n.value)},$=async()=>{o.getAccountsWalletAddress&&(a.getWeb3ConfigItem.chain_id||await p(),await Promise.all([v(),h(),S(),_(7)]))};return L(()=>{$()}),(t,e)=>{const r=V,d=pe,I=ge,W=q;return w(),y("div",{class:T(["w-full flex items-center",f.isMobile===1?"h-screen ":""])},[s("div",he,[s("div",we,[ye,Ce,ke,s("div",null,[N(r,{round:"",color:"none",disabled:u(R),loading:u(m),onClick:e[0]||(e[0]=x=>("throttle"in t?t.throttle:u(j))(()=>{B()})),class:"w-full min-w-[260px] hover:scale-[1.05] duration-700 my-2 mr-3 buy-node",style:{height:"40px",border:"1px solid #ebebeb86"}},{default:ne(()=>[Be]),_:1},8,["disabled","loading"])])]),s("div",Te,[s("div",Ee,[s("div",Ie,[N(d,{onToRefresh:e[1]||(e[1]=x=>E())})]),s("div",Ne,[(w(!0),y(re,null,ie(u(l),(x,z)=>(w(),y("div",{class:"flex flex-col items-center",key:z},[s("span",{class:"lg:text-[2rem] xl:text-[2rem] 2xl:text-[2.5rem] text-[2.5rem] md:text-[2.5rem] sm:text-[2rem] font-bold",title:x.sum},A(("formatNumber"in t?t.formatNumber:u(ue))(x.sum)||0),9,Ae),s("span",Pe,A(x.name),1)]))),128))]),s("div",{class:"w-full flex justify-end",onClick:e[2]||(e[2]=x=>g("update:scrollTo","orderNow"))},De)]),ce((w(),y("div",Le,[s("div",Se,[$e,s("div",We,[s("div",{class:T(["py-1 flex items-center justify-center cursor-pointer",u(n)===7?"bg-[#272727] rounded-md text-[#EBEBEB] font-[500]":""]),onClick:e[3]||(e[3]=x=>_(7))},"7D",2),s("div",{class:T(["py-1 flex items-center justify-center cursor-pointer",u(n)===30?"bg-[#272727] rounded-md text-[#EBEBEB] font-[500]":""]),onClick:e[4]||(e[4]=x=>_(30))},"30D",2)])]),s("div",ze,[N(I,{data:u(c)},null,8,["data"])])])),[[W,u(b)]])])])],2)}}});export{Fe as default};
