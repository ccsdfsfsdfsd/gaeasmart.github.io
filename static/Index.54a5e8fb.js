import{t as W,f as z,a as F,s as U,b as M,c as O,d as D,e as G,E as H,v as V,n as Y,h as Z,i as q,j as J,k as K}from"./index.b4e6d0d7.js";import{a9 as A,r as i,ab as b,ac as h,av as s,ae as P,at as R,bp as Q,Y as X,w as ee,G as L,ak as te,I as se,u as ae,bk as le,bj as oe,d as ne,ai as N,ao as re,b as m,aj as ie,bd as ce,aG as de,bm as ue}from"./entry.c4e81509.js";import{_ as fe}from"./floor7.6c6ad650.js";const me={class:"relative"},ve={class:"text-[#6E6E6E] absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 scale-[0.5] text-sm z-50"},xe=A({__name:"Refresh",emits:["toRefresh"],setup(B,{emit:p}){const o=i(!1),a=i(0),n=i(!1),c=()=>{if(n.value)return;o.value=!0,p("toRefresh"),n.value=!0,a.value=60;const v=setInterval(()=>{a.value--,a.value<=0&&(clearInterval(v),n.value=!1,o.value=!1)},1e3);setTimeout(()=>{o.value=!1},500)};return(v,d)=>(b(),h("div",me,[s("span",{class:P(["text-lg",["iconfont","icon-shuaxin","text-[#6E6E6E]","cursor-pointer","rotate-icon",{rotate:o.value}]]),onClick:c},null,2),s("span",ve,R(a.value>0?a.value:""),1)]))}});const pe=Q(xe,[["__scopeId","data-v-0add8083"]]),ge={id:"floor5-line-chart",class:"w-full h-full"},_e=A({__name:"Line",props:{data:{default:[]}},setup(B){const p=B,{$eChart:o}=ae(),a=X(),n=i(null);ee(()=>p.data,async()=>{c()},{deep:!0});const c=async()=>{var y;a.value&&a.value.dispose();const d=document.getElementById("floor5-line-chart");if(!d||d.clientWidth===0||d.clientHeight===0)return;a.value=o.init(d);const _=((y=p.data)==null?void 0:y.length)||0,l=[],k=new Date;for(let g=_-1;g>=0;g--){const u=new Date(k);u.setUTCDate(k.getUTCDate()-g),l.push(u.toLocaleDateString("en-US",{timeZone:"UTC"}))}const T={tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,.05)",borderWidth:"1",borderColor:"rgba(255,255,255,0.25)",extraCssText:"backdrop-filter: blur(5px);",textStyle:{fontSize:18,color:"#ffffff"},formatter:function(g){var u='<div class="my-tooltip">';return g.forEach(C=>{C.seriesName!=="maxdata"&&(u+=`<div><span class="name large">${C.name}</span>:<span class="value">${C.value} </span></div>`)}),u+="</div>",u}},grid:{top:"8%",left:"8%",right:0,bottom:"15%"},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2B2B2B"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2B2B2B"}},data:l},yAxis:{type:"value",axisLabel:{textStyle:{color:"#2B2B2B"}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#2B2B2B"}}},series:[{data:p.data,type:"line",smooth:!0,lineStyle:{color:"#7030A0",width:5},symbol:"circle",symbolSize:0,itemStyle:{color:"#7030A0",borderColor:"#7030A0",width:2}}]};a.value.setOption(T,!0)},v=()=>{a.value&&(n.value&&clearTimeout(n.value),n.value=setTimeout(()=>{a.value.resize()},300))};return L(async()=>{await te(),setTimeout(c,500),window.addEventListener("resize",v,{passive:!0})}),se(()=>{a.value&&(window.removeEventListener("resize",v),a.value.dispose()),n.value&&clearTimeout(n.value)}),(d,_)=>(b(),h("div",ge))}}),be={class:"w-full h-screen flex items-center"},he={class:"w-full h-fit grid sm:grid-cols-1 lg:grid-cols-[550px_1fr] items-center gap-5 relative"},we={class:"w-full h-full overflow-hidden flex flex-col justify-between border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-8 relative attribute"},ye=s("div",{class:"w-5 h-5 absolute top-3 right-5 attribute_box"},null,-1),Ce=s("p",{class:"text-[1.75rem] lg:text-[1.75rem] md:text-[2.5rem] sm:text-[1vw] font-bold"},"My Device",-1),ke=s("div",{class:"w-[330px] mx-auto"},[s("img",{src:fe,alt:"",class:"w-full h-full object-cover"})],-1),Be=s("span",{class:"text-[1.125rem] font-bold text-[#EBEBEB] uppercase"},"Stake Device",-1),Te={class:"w-full h-full flex flex-col justify-between space-y-5 overflow-hidden"},Ee={class:"flex-1 flex flex-col justify-between border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-6 relative attribute cursor-pointer"},Ie={class:"w-5 h-5 absolute top-3 right-5 attribute_box"},Ne={class:"w-full grid grid-cols-2 xl:grid-cols-4 lg:grid-cols-2 gap-1 md:grid-cols-4 sm:grid-cols-2"},Pe=["title"],Re={class:"lg:text-[1rem] 2xl:text-[1rem] xl:text-[0.85rem] text-[1rem] md:text-[1.4rem] sm:text-[0.9rem] font-[400] u-line-1"},Ae=s("span",{class:"underline underline-offset-6 cursor-pointer text-[#ebebebaf] hover:text-[#EBEBEB] buy_node md:text-[1.5rem] lg:text-[20px]"}," Order Now ",-1),De=[Ae],Le={class:"w-full flex-1 flex flex-col border border-[#2b2b2b] rounded-[25px] px-10 py-3 space-y-4"},Se={class:"flex items-center flex-wrap justify-between"},$e=s("p",{class:"text-[1.75rem] lg:text-[1.75rem] md:text-[2.5rem] font-bold"},"$Gaea Produce",-1),je={class:"w-[40%] bg-[#0F0F0F] rounded-md grid grid-cols-2 p-1 text-[#ebebeb71]"},We={class:"w-full min-h-[250px] flex-1 items-end"},Me=A({__name:"Index",emits:["update:scrollTo"],setup(B,{emit:p}){const o=le(),a=oe(),n=i(!1),c=i(0),v=i([]);i(null);const d=i(null),_=i(!1),l=i([{name:"My possessions",value:[0,0,0,0],sum:0},{name:"Running",value:[0,0,0,0],sum:0},{name:"Today's output",value:[0,0,0,0],sum:0},{name:"Total output",value:[0,0,0,0],sum:0}]),k=ne(()=>{var e;const t=((e=o.getPledgeableNftTokenIds)==null?void 0:e[0])||[];return!(a.getAccountsWalletAddress&&t.length>0)}),w=async t=>{if(a.getAccountsWalletAddress)try{_.value=!0,c.value=t,v.value=await F(c.value)||[0,0,0,0]}catch{}finally{_.value=!1}},T=async()=>{try{n.value=!0;let t=null,e=o.getPledgeableNftTokenIds[0];if(await U(o.getAccountWalletItem),e.length===1?t=await M(e[0]):t=await O(e),t){l.value[1].sum<=0&&(d.value=setInterval(E,3e5));const r=await D();l.value[1].value=r||[0,0,0,0],l.value[1].sum=r.reduce((f,I)=>f+I,0),setTimeout(async()=>{await y();const f=[...o.getPledgeableNftTokenIds.flat()];ue.success(`Successfully staked ${e.length} tokens, ${f.length} remaining`)},200)}}catch{}finally{n.value=!1}},y=async()=>{const t=await G();o.setPledgeableNftTokenIds(t)},g=async()=>{var r;const t=await Y(),e=((r=t==null?void 0:t.data)==null?void 0:r.config[0])||Z();o.setWeb3ConfigItem(e)},u=async()=>{const[t,e]=await Promise.all([q(),J()]);l.value[2].sum=e,l.value[3].sum=t},C=async()=>{const[t,e]=await Promise.all([K(),D()]);l.value[0].value=t||[0,0,0,0],l.value[0].sum=t.reduce((r,f)=>r+f,0),l.value[0].sum>0&&a.setIsThereNFAvailable(!0),l.value[1].value=e||[0,0,0,0],l.value[1].sum=e.reduce((r,f)=>r+f,0),l.value[1].sum>0&&(d.value=setInterval(E,3e5))},E=()=>{u(),w(c.value)},S=async()=>{a.getAccountsWalletAddress&&(o.getWeb3ConfigItem.chain_id||await g(),await Promise.all([y(),u(),C(),w(7)]))};return L(()=>{S()}),(t,e)=>{const r=H,f=pe,I=_e,$=V;return b(),h("div",be,[s("div",he,[s("div",we,[ye,Ce,ke,s("div",null,[N(r,{round:"",color:"none",disabled:m(k),loading:m(n),onClick:e[0]||(e[0]=x=>("throttle"in t?t.throttle:m(W))(()=>{T()})),class:"w-full min-w-[260px] hover:scale-[1.05] duration-700 my-2 mr-3 buy-node",style:{height:"40px",border:"1px solid #ebebeb86"}},{default:re(()=>[Be]),_:1},8,["disabled","loading"])])]),s("div",Te,[s("div",Ee,[s("div",Ie,[N(f,{onToRefresh:e[1]||(e[1]=x=>E())})]),s("div",Ne,[(b(!0),h(ie,null,ce(m(l),(x,j)=>(b(),h("div",{class:"flex flex-col items-center",key:j},[s("span",{class:"lg:text-[2rem] xl:text-[2rem] 2xl:text-[2.5rem] text-[2.5rem] md:text-[2.5rem] sm:text-[2rem] font-bold",title:x.sum},R(("formatNumber"in t?t.formatNumber:m(z))(x.sum)||0),9,Pe),s("span",Re,R(x.name),1)]))),128))]),s("div",{class:"w-full flex justify-end",onClick:e[2]||(e[2]=x=>p("update:scrollTo","orderNow"))},De)]),de((b(),h("div",Le,[s("div",Se,[$e,s("div",je,[s("div",{class:P(["py-1 flex items-center justify-center cursor-pointer",m(c)===7?"bg-[#272727] rounded-md text-[#EBEBEB] font-[500]":""]),onClick:e[3]||(e[3]=x=>w(7))},"7D",2),s("div",{class:P(["py-1 flex items-center justify-center cursor-pointer",m(c)===30?"bg-[#272727] rounded-md text-[#EBEBEB] font-[500]":""]),onClick:e[4]||(e[4]=x=>w(30))},"30D",2)])]),s("div",We,[N(I,{data:m(v)},null,8,["data"])])])),[[$,m(_)]])])])])}}});export{Me as default};
